<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Nasreen's blog</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel=StyleSheet href="/../static/style.css" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
  </head>
  <body>

  <div id="header" class="container-fluid">
    <div class="row">
      <div class="col-sm-4 col-sm-offset-1"><a href="/"><h1>Nasreen's Blog</h1></a></div>
    </div> <!--  end header ROW-->
  </div><!--  end header CONTAINER-->

  <div id="body" class="container-fluid">
    <!-- <div class="row"><div class="col-sm-10 col-sm-offset-1"> -->
    <div class="container">
      <div class="content" role="main">
        
  <div class="row"><div class="col-sm-10 col-sm-offset-1">
<h2>Mutable Default Parameters in Python</h2>

<!--  <p>2017-03-03 12:00:00</p> -->

<p><br> This week I learnt about the mutable default parameter trick, and it's pretty neat. I came across it reading (rather than while trying to fix something), but I guess it's one of those programming things that make you feel like a wizard when you use it knowingly, and a muggle while you're trying to figure out why something doesn't work.</p>
<p><br>If we do this:  <br></p>
<div class="codehilite"><pre><span></span>def suprise(some_list=[1,2,3]):

    some_list.append(4)

    print some_list

suprise()
</pre></div>


<p><br> We get:   <br></p>
<div class="codehilite"><pre><span></span>-- &gt; [1, 2, 3, 4]
</pre></div>


<p><br>If we call the function again: <br></p>
<div class="codehilite"><pre><span></span>suprise()
</pre></div>


<p><br>We might expect the same result, but what we would actually get is:<br></p>
<div class="codehilite"><pre><span></span>--&gt; [1, 2, 3, 4, 4]
</pre></div>


<p><br>This is because the default list is created when the function is first defined, and the same default list is used each time.  </p>
<p>This happens because functions in python are objects.  When python executes a function statment it creates a new function object (using the namespace and the function code).  The default is evaluated, and then the same default is used each time the function is called.  If it's a mutable default parameter it can be changed, and whenever we use it while calling the function we will get the most up to date version of it.</p>
<p><br>Another example:<br></p>
<div class="codehilite"><pre><span></span>suprise([1])
--&gt; [1, 4]
suprise()
--&gt; [1, 2, 3, 4, 4, 4]
</pre></div>


<p><br>A way to avoid this if necessary, is to use a place holder instead of a default that can be changed.  For example:<br></p>
<div class="codehilite"><pre><span></span>def a_func(some_list=None):
    if some_list == None:
        some_list = []
</pre></div>
</div></div> <!--  end content block ROW-->


      </div>
    </div> <!--  end content block -->

  <!-- </div></div> <!  end content block ROW-->

</div><!--  end content block CONTAINER -->
  </body>
</html>